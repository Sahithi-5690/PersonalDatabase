<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Update Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(#776BCC, #776BCC);
    }
    .container {
      background-color: white;
      margin-top: 50px;
      border-radius: 10px;
    }
    .labels {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container rounded bg-white mt-5 mb-5">
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="p-3 py-5">
          <h4 class="text-center mb-4">Update Profile</h4>
          <div class="row">
            <div class="col-md-6">
              <label class="labels">First Name</label>
              <input id="firstNameInput" type="text" class="form-control" placeholder="First Name">
            </div>
            <div class="col-md-6">
              <label class="labels">Surname</label>
              <input id="surnameInput" type="text" class="form-control" placeholder="Surname">
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <label class="labels">Mobile Number</label>
              <input id="mobileInput" type="text" class="form-control" placeholder="Mobile Number">
            </div>
            <div class="col-md-6">
              <label class="labels">Email ID</label>
              <input id="emailInput" type="email" class="form-control" placeholder="Email ID">
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <label class="labels">Address Line 1</label>
              <input id="addressLine1Input" type="text" class="form-control" placeholder="Address Line 1">
            </div>
            <div class="col-md-6">
              <label class="labels">Address Line 2</label>
              <input id="addressLine2Input" type="text" class="form-control" placeholder="Address Line 2">
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <label class="labels">Postal Code</label>
              <input id="postalCodeInput" type="text" class="form-control" placeholder="Postal Code">
            </div>
            <div class="col-md-6">
              <label class="labels">State</label>
              <input id="stateInput" type="text" class="form-control" placeholder="State">
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <label class="labels">Area</label>
              <input id="areaInput" type="text" class="form-control" placeholder="Area">
            </div>
            <div class="col-md-6">
              <label class="labels">Country</label>
              <input id="countryInput" type="text" class="form-control" placeholder="Country">
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-6">
              <label class="labels">Education</label>
              <input id="educationInput" type="text" class="form-control" placeholder="Education">
            </div>
          </div>

          <div class="mt-5 text-center">
            <button id="confirmDetailsBtn" class="btn btn-primary profile-button" type="button">Confirm Details</button>
            <div id="emojiResult"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Retrieve details from sessionStorage and populate the inputs
    document.getElementById('firstNameInput').value = sessionStorage.getItem('firstName') || '';
    document.getElementById('surnameInput').value = sessionStorage.getItem('surname') || '';
    document.getElementById('mobileInput').value = sessionStorage.getItem('phoneNumber') || '';
    document.getElementById('emailInput').value = sessionStorage.getItem('email') || '';
    document.getElementById('addressLine1Input').value = sessionStorage.getItem('addressLine1') || '';
    document.getElementById('addressLine2Input').value = sessionStorage.getItem('addressLine2') || '';
    document.getElementById('postalCodeInput').value = sessionStorage.getItem('postcode') || '';
    document.getElementById('stateInput').value = sessionStorage.getItem('state') || '';
    document.getElementById('areaInput').value = sessionStorage.getItem('area') || '';
    document.getElementById('countryInput').value = sessionStorage.getItem('country') || '';
    document.getElementById('educationInput').value = sessionStorage.getItem('education') || '';

    // Event listener for Confirm Details button
    document.getElementById('confirmDetailsBtn').addEventListener('click', function() {
      // Get updated details from input fields
      var updatedFirstName = document.getElementById('firstNameInput').value;
      var updatedSurname = document.getElementById('surnameInput').value;
      var updatedMobile = document.getElementById('mobileInput').value;
      var updatedEmail = document.getElementById('emailInput').value;
      var updatedAddressLine1 = document.getElementById('addressLine1Input').value;
      var updatedAddressLine2 = document.getElementById('addressLine2Input').value;
      var updatedPostalCode = document.getElementById('postalCodeInput').value;
      var updatedState = document.getElementById('stateInput').value;
      var updatedArea = document.getElementById('areaInput').value;
      var updatedCountry = document.getElementById('countryInput').value;
      var updatedEducation = document.getElementById('educationInput').value;

      // Validate the inputs (example validation, replace with your logic)
      var isValid = updatedFirstName.trim() !== '' && updatedSurname.trim() !== '' && updatedMobile.trim() !== '' && updatedEmail.trim() !== '' && updatedAddressLine1.trim() !== '' && updatedPostalCode.trim() !== '' && updatedState.trim() !== '' && updatedArea.trim() !== '' && updatedCountry.trim() !== '' && updatedEducation.trim() !== '';
      // Add validation for other fields if needed

      // Display emoji based on validation result
      var emojiResult = document.getElementById('emojiResult');
      if (isValid) {
        emojiResult.innerText = '✅'; // Display check mark emoji

        // Store updated details in session storage
        sessionStorage.setItem('firstName', updatedFirstName);
        sessionStorage.setItem('surname', updatedSurname);
        sessionStorage.setItem('phoneNumber', updatedMobile);
        sessionStorage.setItem('email', updatedEmail);
        sessionStorage.setItem('addressLine1', updatedAddressLine1);
        sessionStorage.setItem('addressLine2', updatedAddressLine2);
        sessionStorage.setItem('postcode', updatedPostalCode);
        sessionStorage.setItem('state', updatedState);
        sessionStorage.setItem('area', updatedArea);
        sessionStorage.setItem('country', updatedCountry);
        sessionStorage.setItem('education', updatedEducation);

        // Delay navigation after displaying the emoji
        setTimeout(function() {
          window.location.href = "profile.html";
        }, 2000); // Change 2000 to the desired delay in milliseconds (2 seconds in this example)
      } else {
        emojiResult.innerText = '❌'; // Display cross mark emoji
      }
    });
  </script>
</body>
</html>
